<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wystawki Widget</title>
    <style>
        :root {
            --bg-color: #1e1e1e;
            --card-bg: #252525;
            --text-color: #e0e0e0;
            --accent-color: #2ecc71; 
            --border-color: #333;
            --muted-color: #999;
            --section-header-bg: #333;
            --section-header-text: #fff;
            --separator-line: #3a3a3a;
        }

        body {
            background-color: #121212;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        #widget-container { 
            font-family: 'Segoe UI', Helvetica, Arial, sans-serif; 
            margin: 20px 0; 
            width: 100%; 
            max-width: 800px;
            border: 1px solid var(--border-color); border-radius: 8px; 
            background: var(--bg-color); color: var(--text-color);
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            overflow: hidden;
            position: relative;
        }

        /* --- LEGENDA --- */
        .legend-box {
            background: #2c2c2c;
            border-bottom: 1px solid var(--border-color);
            padding: 12px 15px;
            font-size: 13px;
            color: #ccc;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            line-height: 1.4;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }

        .search-box { padding: 15px; background: var(--card-bg); border-bottom: 1px solid var(--border-color); }
        #searchInput { 
            width: 100%; padding: 12px 15px; box-sizing: border-box; 
            border: 2px solid var(--border-color); border-radius: 6px; 
            font-size: 16px; background: #121212; color: white; outline: none; 
        }
        #searchInput:focus { border-color: var(--accent-color); }

        .table-wrapper { width: 100%; }
        
        .section-header {
            background-color: var(--section-header-bg);
            margin-top: 25px; margin-bottom: 10px; padding: 10px 15px;
            border-radius: 4px;
            font-size: 14px; font-weight: bold; color: var(--section-header-text);
            text-transform: uppercase; letter-spacing: 1px;
            position: sticky; top: 0;
            z-index: 10;
        }
        .section-header:first-child { margin-top: 0; }

        .card-row {
            margin-bottom: 15px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-left: 5px solid var(--accent-color);
            border-radius: 6px;
            padding: 12px;
            transition: background 0.2s;
        }
        .card-row:hover { background-color: #2a2a2a; }

        .card-title {
            font-size: 20px; font-weight: 700; color: var(--accent-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 8px; margin-bottom: 8px; word-break: break-word;
        }

        .terms-list { display: flex; flex-direction: column; gap: 6px; }

        .term-item {
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--separator-line);
            padding-bottom: 6px; margin-bottom: 2px;
        }
        .term-item:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }

        .t-date { font-weight: 600; color: #fff; font-size: 15px; white-space: nowrap; margin-right: 10px; }
        
        .t-type { 
            text-align: right; color: #ddd; font-size: 16px; 
            display: flex; align-items: center; justify-content: flex-end; flex-wrap: wrap; gap: 6px;
        }

        .card-info {
            margin-top: 10px; padding-top: 8px; border-top: 1px dashed var(--border-color);
            font-style: italic; color: var(--muted-color); font-size: 13px;
        }
        
        .icon-svg { width:20px; height:20px; vertical-align:middle; display: inline-block; }
        .emoji-span { font-size: 20px; vertical-align: middle; line-height: 1; }
        .icon-metal  { fill: #90A4AE; } 
        .icon-kosz   { fill: #2196F3; } 

        #backToTop {
            position: fixed; bottom: 20px; right: 20px; width: 50px; height: 50px;
            background-color: var(--accent-color); color: #fff; border-radius: 50%;
            text-align: center; line-height: 50px; font-size: 24px; cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5); display: none; z-index: 1000;
            transition: transform 0.2s;
        }
        #backToTop:hover { transform: scale(1.1); }

        @media screen and (min-width: 768px) {
            .card-title { font-size: 24px; }
            .t-date { font-size: 18px; }
            .t-type { font-size: 18px; }
            .icon-svg { width: 24px; height: 24px; }
            .emoji-span { font-size: 24px; }
            .card-info { font-size: 14px; }
            .section-header { font-size: 16px; padding: 12px 20px; }
        }
        .noselect { -webkit-user-select: none; user-select: none; }
    </style>
</head>
<body>

<div id="widget-container">
  <div style="text-align:center; padding: 15px 0; background-color: #252525; border-bottom: 1px solid #333;">
      <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhzvRFTtm_vlQimF5MFAsQiPKj4kqwgICvxO1HBri765jC_ElvLJhyF0yE580Hsb8BVuxjrnXY3pi6qlVlzsv6Ay2MC9imnD5arNzZBsv0ZfAVBHLkANeIfCyadtzAe5xyS9bpwt3Z6KkMvIJ9kKOwRUWCNUF1AeaBNgMnvzzZJW4IF3-Xi4HHhIGIVXUA/s491/lowcy-wystawek.png" 
           style="width: 60%; height: auto; display: block; margin: 0 auto; border-radius: 8px;" 
           alt="Header">
  </div>
  
  <div class="legend-box noselect">
    <div class="legend-item"><span class="emoji-span">üõãÔ∏è</span> <span id="lbl_furn">Gabaryty</span></div>
    <div class="legend-item"><span class="emoji-span">ü™ë</span> <span id="lbl_wood">Drewno</span></div>
    <div class="legend-item"><span class="emoji-span">üß≤</span> <span id="lbl_metal">Metal</span></div>
    <div class="legend-item"><span class="emoji-span">üîå</span> <span id="lbl_electro">Elektro</span></div>
    <div class="legend-item">
      <svg class="icon-svg icon-kosz" viewBox="0 0 24 24"><path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg> 
      <span id="lbl_paper">Kosz (Papier)</span>
    </div>
  </div>

  <div class="search-box">
    <input type="text" id="searchInput" onkeyup="searchTable()" placeholder="üîç ...">
  </div>
  <div class="table-wrapper noselect"> 
    <div id="cardsList"></div>
  </div>
  <div style="text-align:center; font-size:12px; color:#555; padding:8px;">
    <span id="lbl_found">Znaleziono:</span> <span id="rowCount" style="color:#888">0</span>
  </div>
  
  <div id="backToTop" onclick="scrollToTop()">‚¨ÜÔ∏è</div>
</div>

<script>
  // --- KONFIGURACJA JƒòZYKOWA (12 JƒòZYK√ìW) ---
  const translations = {
    pl: { search: "üîç Szukaj miasta...", found: "Znaleziono:", l_furn: "Gabaryty (Meble)", l_wood: "Drewno", l_metal: "Metal", l_elec: "Elektro", l_paper: "Kosz (Papier)", days: { 'PON.': 'PON.', 'WT.': 'WT.', '≈öR.': '≈öR.', 'CZW.': 'CZW.', 'PT.': 'PT.', 'SOB.': 'SOB.', 'ND.': 'ND.' } },
    de: { search: "üîç Stadt suchen...", found: "Gefunden:", l_furn: "Sperrm√ºll (M√∂bel)", l_wood: "Holz", l_metal: "Metall", l_elec: "Elektro", l_paper: "Papier", days: { 'PON.': 'MO.', 'WT.': 'DI.', '≈öR.': 'MI.', 'CZW.': 'DO.', 'PT.': 'FR.', 'SOB.': 'SA.', 'ND.': 'SO.' } },
    cs: { search: "üîç Hledat mƒõsto...", found: "Nalezeno:", l_furn: "Objemn√Ω odpad", l_wood: "D≈ôevo", l_metal: "Kov", l_elec: "Elektro", l_paper: "Pap√≠r", days: { 'PON.': 'PO.', 'WT.': '√öT.', '≈öR.': 'ST.', 'CZW.': 'ƒåT.', 'PT.': 'P√Å.', 'SOB.': 'SO.', 'ND.': 'NE.' } },
    sk: { search: "üîç Hƒæada≈• mesto...", found: "N√°jden√©:", l_furn: "Objemn√Ω odpad", l_wood: "Drevo", l_metal: "Kov", l_elec: "Elektro", l_paper: "Papier", days: { 'PON.': 'PO.', 'WT.': 'UT.', '≈öR.': 'ST.', 'CZW.': '≈†T.', 'PT.': 'PI.', 'SOB.': 'SO.', 'ND.': 'NE.' } },
    hu: { search: "üîç V√°ros keres√©se...", found: "Tal√°lat:", l_furn: "Lomtalan√≠t√°s", l_wood: "Fa", l_metal: "F√©m", l_elec: "Elektro", l_paper: "Pap√≠r", days: { 'PON.': 'H√â.', 'WT.': 'KE.', '≈öR.': 'SZE.', 'CZW.': 'CS√ú.', 'PT.': 'P√â.', 'SOB.': 'SZO.', 'ND.': 'VA.' } },
    ro: { search: "üîç CautƒÉ ora»ô...", found: "GƒÉsit:", l_furn: "De»ôeuri voluminoase", l_wood: "Lemn", l_metal: "Metal", l_elec: "Electro", l_paper: "H√¢rtie", days: { 'PON.': 'LU.', 'WT.': 'MA.', '≈öR.': 'MI.', 'CZW.': 'JO.', 'PT.': 'VI.', 'SOB.': 'S√Ç.', 'ND.': 'DU.' } },
    bg: { search: "üîç –¢—ä—Ä—Å–µ–Ω–µ –Ω–∞ –≥—Ä–∞–¥...", found: "–ù–∞–º–µ—Ä–µ–Ω–∏:", l_furn: "–ï–¥—Ä–æ–≥–∞–±–∞—Ä–∏—Ç–Ω–∏", l_wood: "–î—ä—Ä–≤–æ", l_metal: "–ú–µ—Ç–∞–ª", l_elec: "–ï–ª–µ–∫—Ç—Ä–æ", l_paper: "–•–∞—Ä—Ç–∏—è", days: { 'PON.': '–ü–û–ù.', 'WT.': '–í–¢.', '≈öR.': '–°–†.', 'CZW.': '–ß–ï–¢.', 'PT.': '–ü–ï–¢.', 'SOB.': '–°–™–ë.', 'ND.': '–ù–ï–î.' } },
    tr: { search: "üîç ≈ûehir ara...", found: "Bulunan:", l_furn: "Hacimli atƒ±k", l_wood: "Ah≈üap", l_metal: "Metal", l_elec: "Elektronik", l_paper: "Kaƒüƒ±t", days: { 'PON.': 'PZT.', 'WT.': 'SAL.', '≈öR.': '√áAR.', 'CZW.': 'PER.', 'PT.': 'CUM.', 'SOB.': 'CTS.', 'ND.': 'PAZ.' } },
    bs: { search: "üîç Pretra≈æi grad...", found: "Pronaƒëeno:", l_furn: "Kabasti otpad", l_wood: "Drvo", l_metal: "Metal", l_elec: "Elektro", l_paper: "Papir", days: { 'PON.': 'PON.', 'WT.': 'UTO.', '≈öR.': 'SRI.', 'CZW.': 'ƒåET.', 'PT.': 'PET.', 'SOB.': 'SUB.', 'ND.': 'NED.' } },
    uk: { search: "üîç –ü–æ—à—É–∫ –º—ñ—Å—Ç–∞...", found: "–ó–Ω–∞–π–¥–µ–Ω–æ:", l_furn: "–í–µ–ª–∏–∫–æ–≥–∞–±–∞—Ä–∏—Ç–Ω—ñ", l_wood: "–î–µ—Ä–µ–≤–æ", l_metal: "–ú–µ—Ç–∞–ª", l_elec: "–ï–ª–µ–∫—Ç—Ä–æ", l_paper: "–ü–∞–ø—ñ—Ä", days: { 'PON.': '–ü–ù.', 'WT.': '–í–¢.', '≈öR.': '–°–†.', 'CZW.': '–ß–¢.', 'PT.': '–ü–¢.', 'SOB.': '–°–ë.', 'ND.': '–ù–î.' } },
    ru: { search: "üîç –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–∞...", found: "–ù–∞–π–¥–µ–Ω–æ:", l_furn: "–ö—Ä—É–ø–Ω–æ–≥–∞–±–∞—Ä–∏—Ç", l_wood: "–î–µ—Ä–µ–≤–æ", l_metal: "–ú–µ—Ç–∞–ª–ª", l_elec: "–≠–ª–µ–∫—Ç—Ä–æ", l_paper: "–ë—É–º–∞–≥–∞", days: { 'PON.': '–ü–ù.', 'WT.': '–í–¢.', '≈öR.': '–°–†.', 'CZW.': '–ß–¢.', 'PT.': '–ü–¢.', 'SOB.': '–°–ë.', 'ND.': '–í–°.' } },
    lt: { search: "üîç Ie≈°koti miesto...", found: "Rasta:", l_furn: "Dideli≈≥ gabarit≈≥", l_wood: "Mediena", l_metal: "Metalas", l_elec: "Elektra", l_paper: "Popierius", days: { 'PON.': 'PIR.', 'WT.': 'ANT.', '≈öR.': 'TRE.', 'CZW.': 'KET.', 'PT.': 'PEN.', 'SOB.': '≈†E≈†.', 'ND.': 'SEK.' } }
  };

  let currentLang = 'de'; // Domy≈õlny fallback

  function initLanguage() {
    let userLang = navigator.language || navigator.userLanguage;
    userLang = userLang.substring(0, 2).toLowerCase();
    
    const supported = ['pl', 'de', 'cs', 'sk', 'hu', 'ro', 'bg', 'tr', 'bs', 'uk', 'ru', 'lt'];
    if (supported.includes(userLang)) {
        currentLang = userLang;
    } else {
        currentLang = 'de'; // Fallback dla nieobs≈Çugiwanych (np. en, fr, es)
    }

    const t = translations[currentLang];
    
    // Ustawienie tekst√≥w w interfejsie
    document.getElementById('searchInput').placeholder = t.search;
    document.getElementById('lbl_found').innerText = t.found;
    document.getElementById('lbl_furn').innerText = t.l_furn;
    document.getElementById('lbl_wood').innerText = t.l_wood;
    document.getElementById('lbl_metal').innerText = t.l_metal;
    document.getElementById('lbl_electro').innerText = t.l_elec;
    document.getElementById('lbl_paper').innerText = t.l_paper;
  }

  // --- DANE (W7 - W11) ---
  const tableData = [{"__SOURCE":"Spis W7","NAZWA REJONU":"Altenkirchen (Westerwald)","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}|||{{KANAPA}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Altmarkkreis-Salzwedel","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na normalnych zasadach 2 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Alzey-Worms","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Amberg","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Bad Homburg","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)","RODZAJ":"{{MAGNES}}|||{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Bad-Kreuznach","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}|||{{MAGNES}}/{{WTYCZKA}}|||{{KANAPA}}|||{{KANAPA}}|||{{MAGNES}}/{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Bamberg","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Barnim","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)","RODZAJ":"{{WTYCZKA}}|||{{WTYCZKA}}|||{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Bayreuth","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie bardzo czƒôsto!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Bernkastel-Wittlich","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Bonn","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na normalnych zasadach 3 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Braunschweig","DATA (PN-SOB)":"2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie bardzo czƒôsto!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Br√ºhl","DATA (PN-SOB)":"2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{WTYCZKA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie bardzo czƒôsto!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Burgenland","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Diepholz","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)","RODZAJ":"{{WTYCZKA}}+{{KANAPA}}|||{{WTYCZKA}}+{{KANAPA}}|||{{WTYCZKA}}+{{KANAPA}}|||{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie dwa razy w miesiƒÖcu lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"D√ºsseldorf","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie dwa razy w miesiƒÖcu!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Eifelkreis Bitburg-Pr√ºm","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Ennepetal","DATA (PN-SOB)":"2026-02-11 (≈öR.)","RODZAJ":"{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie 6 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Frankfurt","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie bardzo czƒôsto!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Freudenstadt","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}|||{{KANAPA}}+{{MAGNES}}|||{{KANAPA}}+{{MAGNES}}|||{{KANAPA}}+{{MAGNES}}|||{{KANAPA}}+{{MAGNES}}","INFO O REJONIE":"Wystawki na normalnych zasadach 2 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Fulda","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}|||{{KANAPA}}+{{MAGNES}}|||{{KANAPA}}+{{MAGNES}}","INFO O REJONIE":"Wystawki na normalnych zasadach 2 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"F√ºrth","DATA (PN-SOB)":"2026-02-10 (WT.)","RODZAJ":"{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie dwa razy w miesiƒÖcu!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Giessen","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Gifhorn","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na normalnych zasadach 3 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Gross-Gerau","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"G√∂ttingen","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Harburg","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}/{{MAGNES}}/{{WTYCZKA}}|||{{KANAPA}}/{{MAGNES}}/{{WTYCZKA}}|||{{KANAPA}}/{{MAGNES}}/{{WTYCZKA}}|||{{KANAPA}}/{{MAGNES}}/{{WTYCZKA}}|||{{KANAPA}}/{{MAGNES}}/{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Hattersheim","DATA (PN-SOB)":"2026-02-11 (≈öR.)","RODZAJ":"{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Heidekreis","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie bardzo czƒôsto!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Heidelberg","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Heilbronn","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Hersfeld-Rotenburg","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Hofheim am Taunus","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na normalnych zasadach 4 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Holzminden","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na normalnych zasadach raz w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"H√ºrth","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{WTYCZKA}}+{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie bardzo czƒôsto!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Karlsruhe","DATA (PN-SOB)":"2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na normalnych zasadach raz w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Karlsruhe Kreis","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie 8 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Kelkheim (Taunus)","DATA (PN-SOB)":"2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na normalnych zasadach 4 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Konstanz","DATA (PN-SOB)":"2026-02-10 (WT.)","RODZAJ":"K√ºchlger√§te","INFO O REJONIE":"Wystawki na normalnych zasadach 2-3 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Kulmbach","DATA (PN-SOB)":"2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Leverkusen","DATA (PN-SOB)":"2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Limburg-Weilburg","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{KOSZ}}|||{{KANAPA}}+{{KOSZ}}|||{{KANAPA}}+{{KOSZ}}|||{{KANAPA}}+{{KOSZ}}|||{{KANAPA}}+{{KOSZ}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie 8 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"L√ºneburg","DATA (PN-SOB)":"2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+Altmetal|||{{KANAPA}}+Altmetal|||{{KANAPA}}+Altmetal|||{{KANAPA}}+Altmetal","INFO O REJONIE":"Wystawki na zg≈Çoszenie 6 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Mayen-Koblenz","DATA (PN-SOB)":"2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie 18 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Monachium","DATA (PN-SOB)":"2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie 8 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"M√ºnster","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Neustadt a.d. Waldnaab","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-12 (CZW.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na normalnych zasadach 2 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Nordsachsen","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}|||{{KANAPA}}+{{MAGNES}}+{{WTYCZKA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc lub czƒô≈õciej!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Oberberg","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{WTYCZKA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Oberursel (Taunus)","DATA (PN-SOB)":"2026-02-11 (≈öR.)","RODZAJ":"{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie co miesiƒÖc!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Olpe","DATA (PN-SOB)":"2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}|||{{KANAPA}}","INFO O REJONIE":"Wystawki na zg≈Çoszenie 6 razy w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Ortenau","DATA (PN-SOB)":"2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)","RODZAJ":"{{KANAPA}}+{{MAGNES}}|||{{KANAPA}}+{{MAGNES}}|||{{KANAPA}}+{{MAGNES}}","INFO O REJONIE":"Wystawki na normalnych zasadach raz w roku!"},{"__SOURCE":"Spis W7","NAZWA REJONU":"Osnabr√ºck","DATA (PN-SOB)":"2026-02-09 (PON.)|||2026-02-10 (WT.)|||2026-02-11 (≈öR.)|||2026-02-12 (CZW.)|||2026-02-13 (PT.)","RODZAJ":"{{KANAPA}}+{{WTYCZKA}}|||{{WTYCZKA}}+{{KANAPA}}|||{{KANAPA}}+{{WTYCZKA}}|||{{WTYCZKA}}+{{KANAPA}}|||{{KANAPA}}+{{WTYCZKA}}","INFO O REJONIE":"]; // Zamkniƒôcie tablicy tableData

  const headers = ["NAZWA REJONU","DATA (PN-SOB)","RODZAJ","INFO O REJONIE"];
  
  // --- KONFIGURACJA IKON ---
  const ICON_KANAPA   = '<span class="emoji-span">üõãÔ∏è</span>';
  const ICON_KRZESLO  = '<span class="emoji-span">ü™ë</span>'; 
  const ICON_MAGNES   = '<span class="emoji-span">üß≤</span>'; 
  const ICON_WTYCZKA  = '<span class="emoji-span">üîå</span>'; 
  
  const ICON_KOSZ = '<svg class="icon-svg icon-kosz" viewBox="0 0 24 24"><path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>';
  const ICON_METAL = '<svg class="icon-svg icon-metal" viewBox="0 0 24 24"><path d="M19.43,12.98C19.47,12.66 19.5,12.34 19.5,12C19.5,11.66 19.47,11.34 19.43,11.02L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.97 19.05,5.05L16.56,6.05C16.04,5.65 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.65 7.44,6.05L4.95,5.05C4.73,4.97 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11.02C4.53,11.34 4.5,11.66 4.5,12C4.5,12.34 4.53,12.66 4.57,12.98L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.95C7.96,18.35 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.35 16.56,17.95L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.98ZM12,15.5C10.07,15.5 8.5,13.93 8.5,12C8.5,10.07 10.07,8.5 12,8.5C13.93,8.5 15.5,10.07 15.5,12C15.5,13.93 13.93,15.5 12,15.5Z" /></svg>';

  function initTable() {
    initLanguage(); // Najpierw ustaw jƒôzyk
    renderRows(tableData);
  }
  
  function renderRows(data) {
    const container = document.getElementById('cardsList');
    let htmlBuffer = ''; 
    let lastSource = ''; 
    
    // Mapowanie nag≈Ç√≥wk√≥w
    let idxName = -1, idxDate = -1, idxType = -1, idxInfo = -1;
    headers.forEach((h, i) => {
       let hU = String(h).toUpperCase();
       if (hU.includes('NAZWA')) idxName = h;
       else if (hU.includes('DATA')) idxDate = h;
       else if (hU.includes('RODZAJ')) idxType = h;
       else if (hU.includes('INFO')) idxInfo = h;
    });

    // Pobranie mapy dni dla aktualnego jƒôzyka
    const dayMap = translations[currentLang].days;

    data.forEach(row => {
      if (row['__SOURCE'] && row['__SOURCE'] !== lastSource) {
         htmlBuffer += '<div class="section-header">üìÇ ' + row['__SOURCE'] + '</div>';
         lastSource = row['__SOURCE'];
      }
    
      htmlBuffer += '<div class="card-row">';
      htmlBuffer += '<div class="card-title">' + (row[idxName] || '') + '</div>';

      htmlBuffer += '<div class="terms-list">';
      let rawDates = String(row[idxDate] || '').split('|||');
      let rawTypes = String(row[idxType] || '').split('|||');
      let count = Math.max(rawDates.length, rawTypes.length);
      
      for(let k=0; k<count; k++) {
         let d = rawDates[k] || '';
         let t = rawTypes[k] || '';
         
         if(d.trim() === '' && t.trim() === '') continue;

         // --- T≈ÅUMACZENIE DNI TYGODNIA ---
         // Zamienia np. "PON." na "MO." w dacie, je≈õli jƒôzyk nie jest polski
         if (currentLang !== 'pl') {
             for (const [plDay, localDay] of Object.entries(dayMap)) {
                 if (d.includes(plDay)) {
                     d = d.replace(plDay, localDay);
                     break; // Znaleziono i zamieniono, id≈∫ dalej
                 }
             }
         }
         
         // --- PODMIANA ZNACZNIK√ìW NA IKONY ---
         t = t.split('{{KANAPA}}').join(ICON_KANAPA);
         t = t.split('{{KRZESLO}}').join(ICON_KRZESLO);
         t = t.split('{{MAGNES}}').join(ICON_MAGNES);
         t = t.split('{{WTYCZKA}}').join(ICON_WTYCZKA);
         t = t.split('{{KOSZ}}').join(ICON_KOSZ);
         
         // Fallback dla lod√≥wki (zamie≈Ñ na wtyczkƒô)
         t = t.split('{{LODOWKA}}').join(ICON_WTYCZKA);
         // Fallback dla metalu (jesli zostal)
         t = t.split('{{METAL}}').join(ICON_MAGNES);

         htmlBuffer += '<div class="term-item">';
         htmlBuffer +=   '<span class="t-date">' + d + '</span>';
         htmlBuffer +=   '<span class="t-type">' + t + '</span>';
         htmlBuffer += '</div>';
      }
      htmlBuffer += '</div>';

      if (idxInfo && row[idxInfo]) {
         htmlBuffer += '<div class="card-info">' + row[idxInfo] + '</div>';
      }

      htmlBuffer += '</div>';
    });
    
    container.innerHTML = htmlBuffer;
    document.getElementById('rowCount').innerText = data.length;
  }
  
  function searchTable() {
    const input = document.getElementById('searchInput');
    const filter = input.value.toUpperCase();
    const filteredData = tableData.filter(row => { 
      let rS = Object.values(row).join(' ').toUpperCase();
      let sS = (row['__SOURCE'] || '').toUpperCase();
      rS = rS.split('|||').join(' '); 
      return rS.includes(filter) || sS.includes(filter);
    });
    renderRows(filteredData);
  }
  
  // --- FUNKCJE POWROTU DO G√ìRY ---
  window.onscroll = function() {
    var btn = document.getElementById("backToTop");
    if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
        btn.style.display = "block";
    } else {
        btn.style.display = "none";
    }
  };

  function scrollToTop() {
    window.scrollTo({top: 0, behavior: 'smooth'});
  }
  
  setTimeout(initTable, 10);
</script>

</body>
</html>
